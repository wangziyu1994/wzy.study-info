#### 1.TCP连接为什么需要3次？

为了防止数据丢包。

当第一次发送消息过后。B已经知道A具有发送数据的能力。并且自己具有接收数据的能力

第二次发送ACK给A后，A知道B具有发送数据的能力，并且自己具有接收数据的能力。

此时B并不确认A是否具有接收数据的能力，以及自己是否具有发送数据的能力。

如果不进行第三次握手，那么如果A没收到B的Ack的消息的话，那么此时再连接建立起来的情况下，数据产生丢包。



#### 2.TCP断开连接为什么需要4次？

当A发送Fin信号的话，B接收到FIn信号的时候，B此时并不一定讲数据发送完了。因此B此时只能发送依次ACK，告诉A自己已经接收到Fin信号了。当B发送完数据。正式要开始关闭连接的时候，就再次发送依次ACK Fin.这就是多出来的一次。



#### 3.TCP断开连接为什么需要等待2MIN？

防止数据丢包。

如果B再接收到A的ACK后没有正确关闭连接，仍然有数据发送。A立即关闭连接的话，导致数据丢失了。而等待2MIN.即使B没有正确关闭连接。此时仍然正在发送给的数据。A依然可以接收的到。





#### 4.session,cookie,token的区别

cookie 服务端为了识别客户端身份信息，将相关信息以key-value的形式放在浏览器本地。

当浏览器再次请求该服务端时，浏览器将本地保存的cookie一同发给服务端。

cookie中包含session相关信息。服务端可以借此判断会话的身份信息。



session 依赖cookie实现的。服务端分配一块存储空间保存与客户端的会话相关信息。

当客户端发送请求过来。如果包含cookie的话，那么服务端可以通过比较cookie与session来判断客户端请求的身份信息。



token

为了防止频繁去数据库查询数据库用户名密码做校验。减轻数据库压力。那么第一次客户端验证用户名密码成功之后，服务端生成一个token给客户端。客户端每次使用token访问服务端。以此要通过用户密码的验证。