<svg id="SvgjsSvg1006" width="3797.2000732421875" height="3441" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1040" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1041" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1082" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1083" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1096" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1097" d="M0,0 L30,13 L0,26 L0,0" fill="#f57f17" stroke="#f57f17" stroke-width="1"></path></marker><marker id="SvgjsMarker1118" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1119" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1134" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1135" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1142" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1143" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1170" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1171" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1178" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1179" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1192" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1193" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1212" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1213" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1262" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1263" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1270" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1271" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1278" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1279" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1286" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1287" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1294" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1295" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1302" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1303" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1310" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1311" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1382" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1383" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1400" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1401" d="M0,0 L30,13 L0,26 L0,0" fill="#f57f17" stroke="#f57f17" stroke-width="1"></path></marker><marker id="SvgjsMarker1404" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1405" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1448" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1449" d="M0,0 L30,13 L0,26 L0,0" fill="#f57f17" stroke="#f57f17" stroke-width="1"></path></marker><marker id="SvgjsMarker1452" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1453" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1476" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1477" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1490" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1491" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1504" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1505" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1518" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1519" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1526" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1527" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1534" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1535" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1574" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1575" d="M0,0 L30,13 L0,26 L0,0" fill="#f57f17" stroke="#f57f17" stroke-width="1"></path></marker><marker id="SvgjsMarker1578" markerWidth="30" markerHeight="26" refX="18" refY="13" viewBox="0 0 30 26" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1579" d="M0,0 L30,13 L0,26 L0,0" fill="#64b5f6" stroke="#64b5f6" stroke-width="1"></path></marker><marker id="SvgjsMarker1588" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1589" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1008" transform="translate(25.000045776367188,45.399986267089844)"><path id="SvgjsPath1009" d="M 0 0L 1341.9999593098958 0L 1341.9999593098958 3231.2001037597656L 0 3231.2001037597656Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="1322px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="25" x="671"><tspan id="SvgjsTspan1013" style="text-decoration:;">ReenTrantReadWritelock</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(1726.1999969482422,24.99999237060547)"><path id="SvgjsPath1015" d="M 0 0L 2046.4000244140625 0L 2046.4000244140625 3391.066640218099L 0 3391.066640218099Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#81c784"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="2027px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="25" x="1023.5"><tspan id="SvgjsTspan1019" style="text-decoration:;">AbstractSynchronizedQueue</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(103.5,78.99999237060547)"><path id="SvgjsPath1021" d="M 0 0L 1078.7999725341797 0L 1078.7999725341797 1833L 0 1833Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="1059px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="25" x="539.5"><tspan id="SvgjsTspan1025" style="text-decoration:;">ReadLock</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(120,144.5999927520752)"><path id="SvgjsPath1027" d="M 0 0L 284.00000762939453 0L 284.00000762939453 26.999990463256836L 0 26.999990463256836Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="265px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="-2" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="20" x="142.5"><tspan id="SvgjsTspan1031" style="text-decoration:;">acquireShared(int args)</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(2066.7165984312696,132.4749972820282)"><path id="SvgjsPath1033" d="M 0 0L 844.4834290345516 0L 844.4834290345516 662.3999996185303L 0 662.3999996185303Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="825px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="-1.875" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="18" x="422.5"><tspan id="SvgjsTspan1037" style="text-decoration:;">acquireSharedInterruptibly</tspan></tspan></text></g></g><g id="SvgjsG1038"><path id="SvgjsPath1039" d="M405.00000762939453 158.0999879837036L434.00000762939453 158.0999879837036L434.00000762939453 102.4749972820282L2488.958312948546 102.4749972820282L2488.958312948546 118.4749972820282" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1040)"></path></g><g id="SvgjsG1042" transform="translate(2277.38336690267,190.0666783650716)"><path id="SvgjsPath1043" d="M 0 0L 228.26667277018214 0L 228.26667277018214 30.533331553141267L 0 30.533331553141267Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1044"><text id="SvgjsText1045" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="209px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="-1.875" transform="rotate(0)"><tspan id="SvgjsTspan1046" dy="18" x="114.5"><tspan id="SvgjsTspan1047" style="text-decoration:;">tryAcquireShared(arg)</tspan></tspan></text></g></g><g id="SvgjsG1048" transform="translate(2193.38336690267,320.5999927520752)"><path id="SvgjsPath1049" d="M 0 0L 414.6332753499346 0L 414.6332753499346 350.2000026702881L 0 350.2000026702881Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1050"><text id="SvgjsText1051" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="395px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1052" dy="17" x="207.5"><tspan id="SvgjsTspan1053" style="text-decoration:;">doAcquireShared(arg)</tspan></tspan><tspan id="SvgjsTspan1054" dy="17" x="207.5"><tspan id="SvgjsTspan1055" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1056" dy="17" x="207.5"><tspan id="SvgjsTspan1057" style="text-decoration:;">首先放入队列，并且入队节点是Node.SHARED模式，循环，每</tspan></tspan><tspan id="SvgjsTspan1058" dy="17" x="207.5"><tspan id="SvgjsTspan1059" style="text-decoration:;">次获取构建节点的前置节点。判断是否是队列的head节点。如</tspan></tspan><tspan id="SvgjsTspan1060" dy="17" x="207.5"><tspan id="SvgjsTspan1061" style="text-decoration:;">果不是的话，进入AQS的shouldParkAfterFaILedAcquire方</tspan></tspan><tspan id="SvgjsTspan1062" dy="17" x="207.5"><tspan id="SvgjsTspan1063" style="text-decoration:;">法，此方法和ReenTrantLock的方法一样。就是判断前置节点的</tspan></tspan><tspan id="SvgjsTspan1064" dy="17" x="207.5"><tspan id="SvgjsTspan1065" style="text-decoration:;">状态是否为-1，如果不为-1的话设置为-1 返回false进行下一次</tspan></tspan><tspan id="SvgjsTspan1066" dy="17" x="207.5"><tspan id="SvgjsTspan1067" style="text-decoration:;">循环。下一次循环如果还是不是head并且获取共享资源失败的</tspan></tspan><tspan id="SvgjsTspan1068" dy="17" x="207.5"><tspan id="SvgjsTspan1069" style="text-decoration:;">话，那么再次进入shouldParkAfterFaILedAcquire方法。因为</tspan></tspan><tspan id="SvgjsTspan1070" dy="17" x="207.5"><tspan id="SvgjsTspan1071" style="text-decoration:;">前置节点已被设置为-1，代表前置节点的next节点需要被阻塞的</tspan></tspan><tspan id="SvgjsTspan1072" dy="17" x="207.5"><tspan id="SvgjsTspan1073" style="text-decoration:;">状态。那么接下来进入parkAndCheckInterrupt方法。</tspan></tspan><tspan id="SvgjsTspan1074" dy="17" x="207.5"><tspan id="SvgjsTspan1075" style="text-decoration:;">LockSupport.park()方法阻塞此线程。 </tspan></tspan><tspan id="SvgjsTspan1076" dy="17" x="207.5"><tspan id="SvgjsTspan1077" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1078" dy="17" x="207.5"><tspan id="SvgjsTspan1079" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1080"><path id="SvgjsPath1081" d="M2391.608151520569 221.59581974981538L2400.3707909395266 317.01507735830614" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1082)"></path><rect id="SvgjsRect1084" width="25" height="22" x="2383.489471230048" y="258.3054485540608" fill="#ffffff"></rect><text id="SvgjsText1085" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="25px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="256.0554485540608" transform="rotate(0)"><tspan id="SvgjsTspan1086" dy="22" x="2395.989471230048"><tspan id="SvgjsTspan1087" style="text-decoration:;">&lt;0</tspan></tspan></text></g><g id="SvgjsG1088" transform="translate(112,227.16251623630524)"><path id="SvgjsPath1089" d="M 0 0L 998.6000061035156 0L 998.6000061035156 1285.4499306678772L 0 1285.4499306678772Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1090"><text id="SvgjsText1091" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="979px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="-1.875" transform="rotate(0)"><tspan id="SvgjsTspan1092" dy="18" x="499.5"><tspan id="SvgjsTspan1093" style="text-decoration:;">tryAcquireShared(arg)</tspan></tspan></text></g></g><g id="SvgjsG1094"><path id="SvgjsPath1095" d="M2276.38336690267 205.33334414164221L611.3000030517578 205.33334414164221L611.3000030517578 210.79998779296875" stroke="#f57f17" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1096)"></path></g><g id="SvgjsG1098" transform="translate(67.50001525878906,2034.1500296592712)"><path id="SvgjsPath1099" d="M 0 0L 1104.8333231608074 0L 1104.8333231608074 1214.4500603675842L 0 1214.4500603675842Z" stroke="rgba(100,181,246,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1100"><text id="SvgjsText1101" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="1085px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1102" dy="25" x="552.5"><tspan id="SvgjsTspan1103" style="text-decoration:;">WriteLock</tspan></tspan></text></g></g><g id="SvgjsG1104" transform="translate(236.3000030517578,331.5999927520752)"><path id="SvgjsPath1105" d="M 0 0L 304 0L 304 41.20000076293945L 0 41.20000076293945Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1106"><text id="SvgjsText1107" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="284px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="10.350000381469727" transform="rotate(0)"><tspan id="SvgjsTspan1108" dy="17" x="152"><tspan id="SvgjsTspan1109" style="text-decoration:;">判断写锁是否正在占有state</tspan></tspan></text></g></g><g id="SvgjsG1110" transform="translate(120,407.7749927043915)"><path id="SvgjsPath1111" d="M 0 0L 248 0L 248 26.200000762939453L 0 26.200000762939453Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1112"><text id="SvgjsText1113" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="228px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1114" dy="17" x="124"><tspan id="SvgjsTspan1115" style="text-decoration:;">readerShouldBlock()</tspan></tspan></text></g></g><g id="SvgjsG1116"><path id="SvgjsPath1117" d="M387.3281424303348 373.03555015900355L247.49869823712282 406.92698878603153" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1118)"></path><rect id="SvgjsRect1120" width="18" height="22" x="308.4134203337288" y="378.9812694725175" fill="#ffffff"></rect><text id="SvgjsText1121" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="18px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="376.7312694725175" transform="rotate(0)"><tspan id="SvgjsTspan1122" dy="22" x="317.4134203337288"><tspan id="SvgjsTspan1123" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1124" transform="translate(745.8000030517578,403.1187407374382)"><path id="SvgjsPath1125" d="M 0 0L 245.59999084472656 0L 245.59999084472656 29.025001764297485L 0 29.025001764297485Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1126"><text id="SvgjsText1127" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="226px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-4.237499117851257" transform="rotate(0)"><tspan id="SvgjsTspan1128" dy="17" x="123"><tspan id="SvgjsTspan1129" style="text-decoration:;">compareAndSetState(c, c + </tspan></tspan><tspan id="SvgjsTspan1130" dy="17" x="123"><tspan id="SvgjsTspan1131" style="text-decoration:;">SHARED_UNIT)</tspan></tspan></text></g></g><g id="SvgjsG1132"><path id="SvgjsPath1133" d="M369 420.8749930858612L412.2000106811523 420.8749930858612" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1134)"></path><rect id="SvgjsRect1136" width="14" height="18" x="383.60000534057616" y="411.8749930858612" fill="#ffffff"></rect><text id="SvgjsText1137" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="14px" fill="#323232" font-weight="700" align="top" lineHeight="18px" anchor="middle" family="微软雅黑" size="14px" weight="700" font-style="" opacity="1" y="410.1249930858612" transform="rotate(0)"><tspan id="SvgjsTspan1138" dy="17" x="390.60000534057616"><tspan id="SvgjsTspan1139" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1140"><path id="SvgjsPath1141" d="M867.6266685485812 434.20440326670433L291.85399383545916 569.9116185948983" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1142)"></path><rect id="SvgjsRect1144" width="190" height="16" x="484.7403311920202" y="494.0580109308013" fill="#ffffff"></rect><text id="SvgjsText1145" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="190px" fill="#323232" font-weight="700" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="492.4330109308013" transform="rotate(0)"><tspan id="SvgjsTspan1146" dy="16" x="579.7403311920202"><tspan id="SvgjsTspan1147" style="text-decoration:;">持有共享锁的线程数量是否等于0</tspan></tspan></text></g><g id="SvgjsG1148" transform="translate(130.3000030517578,570.7374938726425)"><path id="SvgjsPath1149" d="M 0 0L 316.1000061035156 0L 316.1000061035156 32.200002670288086L 0 32.200002670288086Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1150"><text id="SvgjsText1151" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="297px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-2.649998664855957" transform="rotate(0)"><tspan id="SvgjsTspan1152" dy="17" x="158.5"><tspan id="SvgjsTspan1153" style="text-decoration:;">firstReader = current;</tspan></tspan><tspan id="SvgjsTspan1154" dy="17" x="158.5"><tspan id="SvgjsTspan1155" style="text-decoration:;">                    firstReaderHoldCount = 1;</tspan></tspan></text></g></g><g id="SvgjsG1156" transform="translate(593.2000122070312,570.7374938726425)"><path id="SvgjsPath1157" d="M 0 0L 243.1999969482422 0L 243.1999969482422 32.200002670288086L 0 32.200002670288086Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1158"><text id="SvgjsText1159" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="224px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="5.850001335144043" transform="rotate(0)"><tspan id="SvgjsTspan1160" dy="17" x="122"><tspan id="SvgjsTspan1161" style="text-decoration:;">  firstReaderHoldCount++;</tspan></tspan></text></g></g><g id="SvgjsG1162" transform="translate(415.80001068115234,404.94999170303345)"><path id="SvgjsPath1163" d="M 0 0L 245.59999084472656 0L 245.59999084472656 29.025001764297485L 0 29.025001764297485Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1164"><text id="SvgjsText1165" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="226px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="4.262500882148743" transform="rotate(0)"><tspan id="SvgjsTspan1166" dy="17" x="123"><tspan id="SvgjsTspan1167" style="text-decoration:;">r &lt; MAX_COUNT </tspan></tspan></text></g></g><g id="SvgjsG1168"><path id="SvgjsPath1169" d="M662.4000015258789 417.63124161958694L742.2000030517578 417.63124161958694" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1170)"></path><rect id="SvgjsRect1172" width="56" height="18" x="674.3000022888184" y="408.63124161958694" fill="#ffffff"></rect><text id="SvgjsText1173" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="56px" fill="#323232" font-weight="700" align="top" lineHeight="18px" anchor="middle" family="微软雅黑" size="14px" weight="700" font-style="" opacity="1" y="406.88124161958694" transform="rotate(0)"><tspan id="SvgjsTspan1174" dy="17" x="702.3000022888184"><tspan id="SvgjsTspan1175" style="text-decoration:;">没有超过</tspan></tspan></text></g><g id="SvgjsG1176"><path id="SvgjsPath1177" d="M868.3938751471403 434.95351948848435L837.1420531324044 583.3148015316342" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1178)"></path><rect id="SvgjsRect1180" width="147" height="16" x="779.2679641397724" y="501.13416051005925" fill="#ffffff"></rect><text id="SvgjsText1181" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="147px" fill="#323232" font-weight="700" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="499.50916051005925" transform="rotate(0)"><tspan id="SvgjsTspan1182" dy="16" x="852.7679641397724"><tspan id="SvgjsTspan1183" style="text-decoration:;">firstReader == current</tspan></tspan></text></g><g id="SvgjsG1184" transform="translate(802.2000122070312,651.7374938726425)"><path id="SvgjsPath1185" d="M 0 0L 243.1999969482422 0L 243.1999969482422 32.200002670288086L 0 32.200002670288086Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1186"><text id="SvgjsText1187" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="224px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="5.850001335144043" transform="rotate(0)"><tspan id="SvgjsTspan1188" dy="17" x="122"><tspan id="SvgjsTspan1189" style="text-decoration:;">  firstReaderHoldCount++;</tspan></tspan></text></g></g><g id="SvgjsG1190"><path id="SvgjsPath1191" d="M868.8457142675245 434.94433538269004L922.9154338248999 648.2478629773497" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1192)"></path><rect id="SvgjsRect1194" width="26" height="16" x="882.8805740462121" y="533.5960991800198" fill="#ffffff"></rect><text id="SvgjsText1195" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="700" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="531.9710991800198" transform="rotate(0)"><tspan id="SvgjsTspan1196" dy="16" x="895.8805740462121"><tspan id="SvgjsTspan1197" style="text-decoration:;">其他</tspan></tspan></text></g><g id="SvgjsG1198" transform="translate(130.3000030517578,760.9999923706055)"><path id="SvgjsPath1199" d="M 0 0L 945.3000030517578 0L 945.3000030517578 686L 0 686Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1200"><text id="SvgjsText1201" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="926px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1202" dy="17" x="473"><tspan id="SvgjsTspan1203" style="text-decoration:;">fullTryAcquireShared(current)</tspan></tspan></text></g></g><g id="SvgjsG1204" transform="translate(3172.566668192546,229.13330713907882)"><path id="SvgjsPath1205" d="M 0 0L 315.43331654866506 0L 315.43331654866506 91.4666856129964L 0 91.4666856129964Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1206"><text id="SvgjsText1207" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="296px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="-1.875" transform="rotate(0)"><tspan id="SvgjsTspan1208" dy="18" x="158"><tspan id="SvgjsTspan1209" style="text-decoration:;">apparentlyFirstQueuedIsExclusive()</tspan></tspan></text></g></g><g id="SvgjsG1210"><path id="SvgjsPath1211" d="M244 434.97499346733093L244 463.97499346733093L1770.283334096273 463.97499346733093L1770.283334096273 199.13330713907882L3330.2833264668784 199.13330713907882L3330.2833264668784 215.13330713907882" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1212)"></path></g><g id="SvgjsG1214" transform="translate(258.6000061035156,794.8749969005585)"><path id="SvgjsPath1215" d="M 0 0L 304 0L 304 41.20000076293945L 0 41.20000076293945Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1216"><text id="SvgjsText1217" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="284px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="10.350000381469727" transform="rotate(0)"><tspan id="SvgjsTspan1218" dy="17" x="152"><tspan id="SvgjsTspan1219" style="text-decoration:;">判断写锁是否正在占有state</tspan></tspan></text></g></g><g id="SvgjsG1220" transform="translate(142.3000030517578,871.0499968528748)"><path id="SvgjsPath1221" d="M 0 0L 248 0L 248 26.200000762939453L 0 26.200000762939453Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1222"><text id="SvgjsText1223" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="228px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1224" dy="17" x="124"><tspan id="SvgjsTspan1225" style="text-decoration:;">readerShouldBlock()</tspan></tspan></text></g></g><g id="SvgjsG1226" transform="translate(768.1000061035156,866.3937448859215)"><path id="SvgjsPath1227" d="M 0 0L 245.59999084472656 0L 245.59999084472656 29.025001764297485L 0 29.025001764297485Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1228"><text id="SvgjsText1229" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="226px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-4.237499117851257" transform="rotate(0)"><tspan id="SvgjsTspan1230" dy="17" x="123"><tspan id="SvgjsTspan1231" style="text-decoration:;">compareAndSetState(c, c + </tspan></tspan><tspan id="SvgjsTspan1232" dy="17" x="123"><tspan id="SvgjsTspan1233" style="text-decoration:;">SHARED_UNIT)</tspan></tspan></text></g></g><g id="SvgjsG1234" transform="translate(152.60000610351562,1034.0124980211258)"><path id="SvgjsPath1235" d="M 0 0L 316.1000061035156 0L 316.1000061035156 32.200002670288086L 0 32.200002670288086Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1236"><text id="SvgjsText1237" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="297px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-2.649998664855957" transform="rotate(0)"><tspan id="SvgjsTspan1238" dy="17" x="158.5"><tspan id="SvgjsTspan1239" style="text-decoration:;">firstReader = current;</tspan></tspan><tspan id="SvgjsTspan1240" dy="17" x="158.5"><tspan id="SvgjsTspan1241" style="text-decoration:;">                    firstReaderHoldCount = 1;</tspan></tspan></text></g></g><g id="SvgjsG1242" transform="translate(615.5000152587891,1034.0124980211258)"><path id="SvgjsPath1243" d="M 0 0L 243.1999969482422 0L 243.1999969482422 32.200002670288086L 0 32.200002670288086Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1244"><text id="SvgjsText1245" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="224px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="5.850001335144043" transform="rotate(0)"><tspan id="SvgjsTspan1246" dy="17" x="122"><tspan id="SvgjsTspan1247" style="text-decoration:;">  firstReaderHoldCount++;</tspan></tspan></text></g></g><g id="SvgjsG1248" transform="translate(438.10001373291016,868.2249958515167)"><path id="SvgjsPath1249" d="M 0 0L 245.59999084472656 0L 245.59999084472656 29.025001764297485L 0 29.025001764297485Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1250"><text id="SvgjsText1251" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="226px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="4.262500882148743" transform="rotate(0)"><tspan id="SvgjsTspan1252" dy="17" x="123"><tspan id="SvgjsTspan1253" style="text-decoration:;">r &lt; MAX_COUNT </tspan></tspan></text></g></g><g id="SvgjsG1254" transform="translate(824.5000152587891,1115.0124980211258)"><path id="SvgjsPath1255" d="M 0 0L 243.1999969482422 0L 243.1999969482422 32.200002670288086L 0 32.200002670288086Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1256"><text id="SvgjsText1257" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="224px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="5.850001335144043" transform="rotate(0)"><tspan id="SvgjsTspan1258" dy="17" x="122"><tspan id="SvgjsTspan1259" style="text-decoration:;">  firstReaderHoldCount++;</tspan></tspan></text></g></g><g id="SvgjsG1260"><path id="SvgjsPath1261" d="M409.62814548209263 836.3105543074868L269.79870128888064 870.2019929345148" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1262)"></path><rect id="SvgjsRect1264" width="18" height="22" x="330.71342338548664" y="842.2562736210008" fill="#ffffff"></rect><text id="SvgjsText1265" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="18px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="840.0062736210008" transform="rotate(0)"><tspan id="SvgjsTspan1266" dy="22" x="339.71342338548664"><tspan id="SvgjsTspan1267" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1268"><path id="SvgjsPath1269" d="M391.3000030517578 884.1499972343445L434.50001373291013 884.1499972343445" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1270)"></path><rect id="SvgjsRect1272" width="14" height="18" x="405.900008392334" y="875.1499972343445" fill="#ffffff"></rect><text id="SvgjsText1273" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="14px" fill="#323232" font-weight="700" align="top" lineHeight="18px" anchor="middle" family="微软雅黑" size="14px" weight="700" font-style="" opacity="1" y="873.3999972343445" transform="rotate(0)"><tspan id="SvgjsTspan1274" dy="17" x="412.900008392334"><tspan id="SvgjsTspan1275" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1276"><path id="SvgjsPath1277" d="M684.7000045776367 882.7374967336655L764.5000061035156 882.7374967336655" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1278)"></path><rect id="SvgjsRect1280" width="56" height="18" x="696.6000053405762" y="873.7374967336655" fill="#ffffff"></rect><text id="SvgjsText1281" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="56px" fill="#323232" font-weight="700" align="top" lineHeight="18px" anchor="middle" family="微软雅黑" size="14px" weight="700" font-style="" opacity="1" y="871.9874967336655" transform="rotate(0)"><tspan id="SvgjsTspan1282" dy="17" x="724.6000053405762"><tspan id="SvgjsTspan1283" style="text-decoration:;">没有超过</tspan></tspan></text></g><g id="SvgjsG1284"><path id="SvgjsPath1285" d="M889.927361364951 895.6510634971115L314.1515137346139 1033.1761573723124" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1286)"></path><rect id="SvgjsRect1288" width="190" height="16" x="507.0394375497824" y="956.4136104347119" fill="#ffffff"></rect><text id="SvgjsText1289" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="190px" fill="#323232" font-weight="700" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="954.7886104347119" transform="rotate(0)"><tspan id="SvgjsTspan1290" dy="16" x="602.0394375497824"><tspan id="SvgjsTspan1291" style="text-decoration:;">持有共享锁的线程数量是否等于0</tspan></tspan></text></g><g id="SvgjsG1292"><path id="SvgjsPath1293" d="M890.1571248547009 896.088174952145L739.7743697491509 1031.6025561341921" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1294)"></path><rect id="SvgjsRect1296" width="147" height="16" x="741.4657473019258" y="955.8453655431686" fill="#ffffff"></rect><text id="SvgjsText1297" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="147px" fill="#323232" font-weight="700" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="954.2203655431686" transform="rotate(0)"><tspan id="SvgjsTspan1298" dy="16" x="814.9657473019258"><tspan id="SvgjsTspan1299" style="text-decoration:;">firstReader == current</tspan></tspan></text></g><g id="SvgjsG1300"><path id="SvgjsPath1301" d="M891.1437904946887 896.3885749539339L945.2223734451949 1111.5211161277518" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1302)"></path><rect id="SvgjsRect1304" width="26" height="16" x="905.1830819699418" y="995.9548455408428" fill="#ffffff"></rect><text id="SvgjsText1305" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="700" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="994.3298455408428" transform="rotate(0)"><tspan id="SvgjsTspan1306" dy="16" x="918.1830819699418"><tspan id="SvgjsTspan1307" style="text-decoration:;">其他</tspan></tspan></text></g><g id="SvgjsG1308"><path id="SvgjsPath1309" d="M266.3000030517578 898.2499976158142L266.3000030517578 927.2499976158142L1781.4333356221518 927.2499976158142L1781.4333356221518 199.13330713907882L3330.2833264668784 199.13330713907882L3330.2833264668784 215.13330713907882" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1310)"></path></g><g id="SvgjsG1312" transform="translate(158.05001068115234,1258.1500010490417)"><path id="SvgjsPath1313" d="M 0 0L 844.4999847412109 0L 844.4999847412109 42.987494349479675L 0 42.987494349479675Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1314"><text id="SvgjsText1315" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="825px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="11.243747174739838" transform="rotate(0)"><tspan id="SvgjsTspan1316" dy="17" x="422.5"><tspan id="SvgjsTspan1317" style="text-decoration:;">重复以上步骤</tspan></tspan></text></g></g><g id="SvgjsG1318" transform="translate(531.5000228881836,1172.5374969244003)"><path id="SvgjsPath1319" d="M 27.719997482299807 0L 56.279994888305666 0L 56.279994888305666 46.45437249541283L 83.99999237060547 46.45437249541283L 41.999996185302734 84.46249544620514L 0 46.45437249541283L 27.719997482299807 46.45437249541283L 27.719997482299807 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1320"><text id="SvgjsText1321" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="118px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="16.008122950792313" transform="rotate(0)"><tspan id="SvgjsTspan1322" dy="20" x="42.2000015258789"><tspan id="SvgjsTspan1323" style="text-decoration:;">如果cas失败的</tspan></tspan><tspan id="SvgjsTspan1324" dy="20" x="42.2000015258789"><tspan id="SvgjsTspan1325" style="text-decoration:;">话</tspan></tspan></text></g></g><g id="SvgjsG1326" transform="translate(122.05000305175781,1587.7999801635742)"><path id="SvgjsPath1327" d="M 0 0L 332.6000061035156 0L 332.6000061035156 97.79998779296875L 0 97.79998779296875Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1328"><text id="SvgjsText1329" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="313px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1330" dy="17" x="166.5"><tspan id="SvgjsTspan1331" style="text-decoration:;">unlock()</tspan></tspan></text></g></g><g id="SvgjsG1332" transform="translate(130.3000030517578,1611.599967956543)"><path id="SvgjsPath1333" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1334"><text id="SvgjsText1335" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1336" dy="21" x="138.5"><tspan id="SvgjsTspan1337" style="text-decoration:;">releaseShared(int arg)</tspan></tspan></text></g></g><g id="SvgjsG1338" transform="translate(2032.4999668598184,878.6531284153461)"><path id="SvgjsPath1339" d="M 0 0L 1122.1000545024863 0L 1122.1000545024863 672.2312324643135L 0 672.2312324643135Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1340"><text id="SvgjsText1341" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="1103px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1342" dy="25" x="561.5"><tspan id="SvgjsTspan1343" style="text-decoration:;">releaseShared(int args)</tspan></tspan></text></g></g><g id="SvgjsG1344" transform="translate(2401.0916357437777,983.1333119074504)"><path id="SvgjsPath1345" d="M 0 0L 327.58336218198133 0L 327.58336218198133 24.73336092631007L 0 24.73336092631007Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1346"><text id="SvgjsText1347" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="308px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="-1.875" transform="rotate(0)"><tspan id="SvgjsTspan1348" dy="18" x="164"><tspan id="SvgjsTspan1349" style="text-decoration:;">tryReleaseShared(int releases)</tspan></tspan></text></g></g><g id="SvgjsG1350" transform="translate(2330.3833168347683,1162.2665704091391)"><path id="SvgjsPath1351" d="M 0 0L 469.0000000000002 0L 469.0000000000002 284.7334219614663L 0 284.7334219614663Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1352"><text id="SvgjsText1353" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="450px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="-1.875" transform="rotate(0)"><tspan id="SvgjsTspan1354" dy="18" x="235"><tspan id="SvgjsTspan1355" style="text-decoration:;">doReleaseShared()</tspan></tspan><tspan id="SvgjsTspan1356" dy="18" x="235"><tspan id="SvgjsTspan1357" style="text-decoration:;">循环获取head节点</tspan></tspan><tspan id="SvgjsTspan1358" dy="18" x="235"><tspan id="SvgjsTspan1359" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1360" dy="18" x="235"><tspan id="SvgjsTspan1361" style="text-decoration:;">如果队列当中包含一个入队节点的时候，如果head的状态</tspan></tspan><tspan id="SvgjsTspan1362" dy="18" x="235"><tspan id="SvgjsTspan1363" style="text-decoration:;">Node.SIGNAL -1为阻塞，说明，head的下一节点需要唤醒。调用</tspan></tspan><tspan id="SvgjsTspan1364" dy="18" x="235"><tspan id="SvgjsTspan1365" style="text-decoration:;">unparkSuccessor(h) LockSupport.unpark，head节点所在的线程</tspan></tspan><tspan id="SvgjsTspan1366" dy="18" x="235"><tspan id="SvgjsTspan1367" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1368" dy="18" x="235"><tspan id="SvgjsTspan1369" style="text-decoration:;">如果为0说明后置节点可能需要被唤醒（在</tspan></tspan><tspan id="SvgjsTspan1370" dy="18" x="235"><tspan id="SvgjsTspan1371" style="text-decoration:;">shouldParkAfterFailedAcquire中尚未来的及把前置节点的</tspan></tspan><tspan id="SvgjsTspan1372" dy="18" x="235"><tspan id="SvgjsTspan1373" style="text-decoration:;">waitstatus设置为-1），也可能根本不存在，所以设置为</tspan></tspan><tspan id="SvgjsTspan1374" dy="18" x="235"><tspan id="SvgjsTspan1375" style="text-decoration:;">Node.Proagate.以便 在被唤醒 </tspan></tspan><tspan id="SvgjsTspan1376" dy="18" x="235"><tspan id="SvgjsTspan1377" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1378" dy="18" x="235"><tspan id="SvgjsTspan1379" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1380"><path id="SvgjsPath1381" d="M407.6000061035156 1636.6999740600586L1219.549986481667 1636.6999740600586L1219.549986481667 1214.768744647503L2018.4999668598184 1214.768744647503" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1382)"></path></g><g id="SvgjsG1384" transform="translate(192.40000915527344,2051.599967956543)"><path id="SvgjsPath1385" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1386"><text id="SvgjsText1387" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1388" dy="21" x="138.5"><tspan id="SvgjsTspan1389" style="text-decoration:;">acquire(int args)</tspan></tspan></text></g></g><g id="SvgjsG1390" transform="translate(122.05000305175781,1763.1500296592712)"><path id="SvgjsPath1391" d="M 0 0L 316.1666695276895 0L 316.1666695276895 61L 0 61Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1392"><text id="SvgjsText1393" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="297px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="-2.5" transform="rotate(0)"><tspan id="SvgjsTspan1394" dy="25" x="158.5"><tspan id="SvgjsTspan1395" style="text-decoration:;">tryReleaseShared(int releases)</tspan></tspan><tspan id="SvgjsTspan1396" dy="25" x="158.5"><tspan id="SvgjsTspan1397" style="text-decoration:;">cas 改变AQS的state方法，</tspan></tspan></text></g></g><g id="SvgjsG1398"><path id="SvgjsPath1399" d="M2400.0916357437777 995.4999923706055L1419.6541541616125 995.4999923706055L1419.6541541616125 1793.6500296592712L452.21667257944733 1793.6500296592712" stroke="#f57f17" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1400)"></path></g><g id="SvgjsG1402"><path id="SvgjsPath1403" d="M2564.8833168347687 1008.8666728337605L2564.8833168347683 1158.6665704091392" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1404)"></path><rect id="SvgjsRect1406" width="38" height="22" x="2545.8833168347683" y="1072.7666216214498" fill="#ffffff"></rect><text id="SvgjsText1407" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="38px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="1070.5166216214498" transform="rotate(0)"><tspan id="SvgjsTspan1408" dy="22" x="2564.8833168347683"><tspan id="SvgjsTspan1409" style="text-decoration:;">true</tspan></tspan></text></g><g id="SvgjsG1410" transform="translate(2066.7165984312696,1761.5999774932861)"><path id="SvgjsPath1411" d="M 0 0L 1203.883422931035 0L 1203.883422931035 607.8000392913818L 0 607.8000392913818Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1412"><text id="SvgjsText1413" font-family="微软雅黑" text-anchor="middle" font-size="23px" width="1184px" fill="#323232" font-weight="700" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="23px" weight="700" font-style="" opacity="1" y="-4.875" transform="rotate(0)"><tspan id="SvgjsTspan1414" dy="28" x="602"><tspan id="SvgjsTspan1415" style="text-decoration:;">acquire(int args)</tspan></tspan></text></g></g><g id="SvgjsG1416" transform="translate(2237.688293259125,1930.0031700243035)"><path id="SvgjsPath1417" d="M 0 0L 832.0958952611566 0L 832.0958952611566 58.070066390005955L 0 58.070066390005955Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1418"><text id="SvgjsText1419" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="813px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="19.410033195002978" transform="rotate(0)"><tspan id="SvgjsTspan1420" dy="16" x="416.5"><tspan id="SvgjsTspan1421" style="text-decoration:;">tryAcquire(int args)</tspan></tspan></text></g></g><g id="SvgjsG1422" transform="translate(2124.7609989767716,2078.5657510007422)"><path id="SvgjsPath1423" d="M 0 0L 1057.9504838258636 0L 1057.9504838258636 106.55857957885125L 0 106.55857957885125Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1424"><text id="SvgjsText1425" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="1038px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.654289789425626" transform="rotate(0)"><tspan id="SvgjsTspan1426" dy="16" x="529"><tspan id="SvgjsTspan1427" style="text-decoration:;">acquireQueued(final Node node, int arg)</tspan></tspan><tspan id="SvgjsTspan1428" dy="16" x="529"><tspan id="SvgjsTspan1429" style="text-decoration:;">A.自旋两次尝试为入队的节点获取锁</tspan></tspan><tspan id="SvgjsTspan1430" dy="16" x="529"><tspan id="SvgjsTspan1431" style="text-decoration:;">1.第一次未获取时，设置前节点的waitstatus=-1</tspan></tspan><tspan id="SvgjsTspan1432" dy="16" x="529"><tspan id="SvgjsTspan1433" style="text-decoration:;">2.第二次未获取时，如果前节点已经为-1，那么park线程</tspan></tspan><tspan id="SvgjsTspan1434" dy="16" x="529"><tspan id="SvgjsTspan1435" style="text-decoration:;">B.如果前节点为head,并且tryAcquire返回true那么直接设置此节点为head节点</tspan></tspan></text></g></g><g id="SvgjsG1436" transform="translate(2237.688293259125,2229.3486238181604)"><path id="SvgjsPath1437" d="M 0 0L 832.0958952611566 0L 832.0958952611566 58.070066390005955L 0 58.070066390005955Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1438"><text id="SvgjsText1439" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="813px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3.4100331950029776" transform="rotate(0)"><tspan id="SvgjsTspan1440" dy="16" x="416.5"><tspan id="SvgjsTspan1441" style="text-decoration:;">addWaiter(Node.EXCLUSIVE)</tspan></tspan><tspan id="SvgjsTspan1442" dy="16" x="416.5"><tspan id="SvgjsTspan1443" style="text-decoration:;">如果队列不存在初始化队列。</tspan></tspan><tspan id="SvgjsTspan1444" dy="16" x="416.5"><tspan id="SvgjsTspan1445" style="text-decoration:;">如果队列存在，那么CAS把节点放入Tail节点。</tspan></tspan></text></g></g><g id="SvgjsG1446"><path id="SvgjsPath1447" d="M2236.688293259125 1959.0382032193065L1353.1941527330782 1959.0382032193065L1353.1941527330782 2072.099967956543L482.70001220703125 2072.099967956543" stroke="#f57f17" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1448)"></path></g><g id="SvgjsG1450"><path id="SvgjsPath1451" d="M474.6000061035156 2032.099967956543L504.6000061035156 2032.099967956543L504.6000061035156 1731.5999774932861L2668.658309896787 1731.5999774932861L2668.658309896787 1747.5999774932861" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1452)"></path></g><g id="SvgjsG1454" transform="translate(130.3000030517578,2125.3125029802322)"><path id="SvgjsPath1455" d="M 0 0L 832.2999877929688 0L 832.2999877929688 745.3749997615814L 0 745.3749997615814Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1456"><text id="SvgjsText1457" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="813px" fill="#323232" font-weight="700" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="700" font-style="" opacity="1" y="-2.375" transform="rotate(0)"><tspan id="SvgjsTspan1458" dy="23" x="416.5"><tspan id="SvgjsTspan1459" style="text-decoration:;">tryAcquire(int args)</tspan></tspan><tspan id="SvgjsTspan1460" dy="23" x="416.5"><tspan id="SvgjsTspan1461" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1462" transform="translate(208.40000915527344,2212.599988937378)"><path id="SvgjsPath1463" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1464"><text id="SvgjsText1465" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1466" dy="21" x="138.5"><tspan id="SvgjsTspan1467" style="text-decoration:;">state=0?</tspan></tspan></text></g></g><g id="SvgjsG1468" transform="translate(161.91666952768952,2348.599988937378)"><path id="SvgjsPath1469" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1470"><text id="SvgjsText1471" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1472" dy="21" x="138.5"><tspan id="SvgjsTspan1473" style="text-decoration:;">state=0?</tspan></tspan></text></g></g><g id="SvgjsG1474"><path id="SvgjsPath1475" d="M346.1105037562452 2254.498228138793L301.6488959832343 2345.366327812284" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1476)"></path><rect id="SvgjsRect1478" width="76" height="22" x="285.87969986973974" y="2288.9322779755385" fill="#ffffff"></rect><text id="SvgjsText1479" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="76px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="2286.6822779755385" transform="rotate(0)"><tspan id="SvgjsTspan1480" dy="22" x="323.87969986973974"><tspan id="SvgjsTspan1481" style="text-decoration:;">state!=0</tspan></tspan></text></g><g id="SvgjsG1482" transform="translate(504.74998474121094,2348.599988937378)"><path id="SvgjsPath1483" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1484"><text id="SvgjsText1485" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1486" dy="21" x="138.5"><tspan id="SvgjsTspan1487" style="text-decoration:;">writeShouldLock</tspan></tspan></text></g></g><g id="SvgjsG1488"><path id="SvgjsPath1489" d="M347.50227799334533 2253.9052543401485L639.4718239431951 2347.501033487403" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1490)"></path><rect id="SvgjsRect1492" width="70" height="22" x="458.4870509682702" y="2289.703143913776" fill="#ffffff"></rect><text id="SvgjsText1493" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="70px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="2287.453143913776" transform="rotate(0)"><tspan id="SvgjsTspan1494" dy="22" x="493.4870509682702"><tspan id="SvgjsTspan1495" style="text-decoration:;">state=0</tspan></tspan></text></g><g id="SvgjsG1496" transform="translate(134.75834377606697,2474.599988937378)"><path id="SvgjsPath1497" d="M 0 0L 330.6166545550029 0L 330.6166545550029 46.80002784729004L 0 46.80002784729004Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1498"><text id="SvgjsText1499" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="311px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="10.77501392364502" transform="rotate(0)"><tspan id="SvgjsTspan1500" dy="21" x="165.5"><tspan id="SvgjsTspan1501" style="text-decoration:;">判断持有锁的线程是否是当前线程</tspan></tspan></text></g></g><g id="SvgjsG1502"><path id="SvgjsPath1503" d="M300.0666710535684 2390.599988937378L300.0666710535684 2470.999988937378" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1504)"></path><rect id="SvgjsRect1506" width="76" height="22" x="262.0666710535684" y="2419.7999889373777" fill="#ffffff"></rect><text id="SvgjsText1507" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="76px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="2417.5499889373777" transform="rotate(0)"><tspan id="SvgjsTspan1508" dy="22" x="300.0666710535684"><tspan id="SvgjsTspan1509" style="text-decoration:;">state!=0</tspan></tspan></text></g><g id="SvgjsG1510" transform="translate(178.9791856209436,2661.2624393701553)"><path id="SvgjsPath1511" d="M 0 0L 763.8416470686595 0L 763.8416470686595 49.20003128051758L 0 49.20003128051758Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1512"><text id="SvgjsText1513" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="744px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="11.975015640258789" transform="rotate(0)"><tspan id="SvgjsTspan1514" dy="21" x="382"><tspan id="SvgjsTspan1515" style="text-decoration:;">CAS state</tspan></tspan></text></g></g><g id="SvgjsG1516"><path id="SvgjsPath1517" d="M642.611018263188 2390.557327692846L561.9402939693197 2657.8160198504706" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1518)"></path><rect id="SvgjsRect1520" width="70" height="22" x="612.7291699806848" y="2408.6831114590163" fill="#ffffff"></rect><text id="SvgjsText1521" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="70px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="2406.4331114590163" transform="rotate(0)"><tspan id="SvgjsTspan1522" dy="22" x="647.7291699806848"><tspan id="SvgjsTspan1523" style="text-decoration:;">state=0</tspan></tspan></text></g><g id="SvgjsG1524"><path id="SvgjsPath1525" d="M293.4840222067955 2519.8674443735827L557.7174962518251 2659.579700050063" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1526)"></path><rect id="SvgjsRect1528" width="70" height="22" x="390.60075922931026" y="2578.723572211823" fill="#ffffff"></rect><text id="SvgjsText1529" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="70px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="2576.473572211823" transform="rotate(0)"><tspan id="SvgjsTspan1530" dy="22" x="425.60075922931026"><tspan id="SvgjsTspan1531" style="text-decoration:;">state=0</tspan></tspan></text></g><g id="SvgjsG1532"><path id="SvgjsPath1533" d="M560.9000091552734 2711.462470650673L560.9000091552734 2740.462470650673L1533.7909158331872 2740.462470650673L1533.7909158331872 2048.5657510007422L2653.7362408897034 2048.5657510007422L2653.7362408897034 2064.5657510007422" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1534)"></path><rect id="SvgjsRect1536" width="42" height="22" x="1512.7909158331872" y="2316.4869016364064" fill="#ffffff"></rect><text id="SvgjsText1537" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="42px" fill="#323232" font-weight="700" align="top" lineHeight="23px" anchor="middle" family="微软雅黑" size="18px" weight="700" font-style="" opacity="1" y="2314.2369016364064" transform="rotate(0)"><tspan id="SvgjsTspan1538" dy="22" x="1533.7909158331872"><tspan id="SvgjsTspan1539" style="text-decoration:;">false</tspan></tspan></text></g><g id="SvgjsG1540" transform="translate(113.83333476384476,2970.4666678110757)"><path id="SvgjsPath1541" d="M 0 0L 574.2333410580953 0L 574.2333410580953 264.8000888824463L 0 264.8000888824463Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1542"><text id="SvgjsText1543" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="555px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1544" dy="17" x="287.5"><tspan id="SvgjsTspan1545" style="text-decoration:;">unlock()</tspan></tspan></text></g></g><g id="SvgjsG1546" transform="translate(130.3000030517578,3001.110767164517)"><path id="SvgjsPath1547" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1548"><text id="SvgjsText1549" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1550" dy="21" x="138.5"><tspan id="SvgjsTspan1551" style="text-decoration:;">release(int arg)</tspan></tspan></text></g></g><g id="SvgjsG1552" transform="translate(2066.7165984312696,2684.0000019073486)"><path id="SvgjsPath1553" d="M 0 0L 1307.4833985169726 0L 1307.4833985169726 624.9999904632568L 0 624.9999904632568Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1554"><text id="SvgjsText1555" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="1288px" fill="#323232" font-weight="700" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="-2" transform="rotate(0)"><tspan id="SvgjsTspan1556" dy="20" x="654"><tspan id="SvgjsTspan1557" style="text-decoration:;">release(int args)</tspan></tspan></text></g></g><g id="SvgjsG1558" transform="translate(2542.041637341182,2779.597931365172)"><path id="SvgjsPath1559" d="M 0 0L 309.6833589871719 0L 309.6833589871719 40.529047290484414L 0 40.529047290484414Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1560"><text id="SvgjsText1561" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="290px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1562" dy="17" x="155"><tspan id="SvgjsTspan1563" style="text-decoration:;">tryRelease(int args)</tspan></tspan></text></g></g><g id="SvgjsG1564" transform="translate(130.3000030517578,3127.7774338311833)"><path id="SvgjsPath1565" d="M 0 0L 276.3000030517578 0L 276.3000030517578 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1566"><text id="SvgjsText1567" font-family="微软雅黑" text-anchor="middle" font-size="17px" width="257px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="17px" weight="400" font-style="" opacity="1" y="-2.625" transform="rotate(0)"><tspan id="SvgjsTspan1568" dy="21" x="138.5"><tspan id="SvgjsTspan1569" style="text-decoration:;">tryRelease(int arg)</tspan></tspan><tspan id="SvgjsTspan1570" dy="21" x="138.5"><tspan id="SvgjsTspan1571" style="text-decoration:;">cas state</tspan></tspan></text></g></g><g id="SvgjsG1572"><path id="SvgjsPath1573" d="M2541.041637341182 2799.862455010414L1474.320821722349 2799.862455010414L1474.320821722349 3148.2774338311833L420.6000061035156 3148.2774338311833" stroke="#f57f17" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1574)"></path></g><g id="SvgjsG1576"><path id="SvgjsPath1577" d="M407.6000061035156 3021.610767164517L436.6000061035156 3021.610767164517L436.6000061035156 2631.597931365172L2696.8833168347683 2631.597931365172L2696.8833168347683 2765.597931365172" stroke="#64b5f6" stroke-width="10" fill="none" marker-end="url(#SvgjsMarker1578)"></path></g><g id="SvgjsG1580" transform="translate(2542.041637341182,2910.2097336048523)"><path id="SvgjsPath1581" d="M 0 0L 309.6833589871719 0L 309.6833589871719 40.529047290484414L 0 40.529047290484414Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1582"><text id="SvgjsText1583" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="290px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="-1.75" transform="rotate(0)"><tspan id="SvgjsTspan1584" dy="17" x="155"><tspan id="SvgjsTspan1585" style="text-decoration:;">unparkSuccessor(h);</tspan></tspan></text></g></g><g id="SvgjsG1586"><path id="SvgjsPath1587" d="M2696.8833168347683 2821.1269786556563L2696.8833168347683 2865.1683561302543L2696.8833168347683 2865.1683561302543L2696.8833168347683 2906.6097336048524" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1588)"></path><rect id="SvgjsRect1590" width="51" height="16" x="2671.3833168347683" y="2855.868356130254" fill="#ffffff"></rect><text id="SvgjsText1591" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="51px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2854.243356130254" transform="rotate(0)"><tspan id="SvgjsTspan1592" dy="16" x="2696.8833168347683"><tspan id="SvgjsTspan1593" style="text-decoration:;">返回true</tspan></tspan></text></g></svg>